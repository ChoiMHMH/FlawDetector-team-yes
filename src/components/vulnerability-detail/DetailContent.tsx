import Chips from "@/components/vulnerability-db/Chips";
import { DetailContentProps } from "@/types/vulnerability";
import PinButton from "./PinButton";
import ShareButton from "./ShareButton";

/**
 * @description `DetailContent` 컴포넌트는 취약성 뉴스의 세부 정보를 표시하는 UI 컴포넌트입니다.
 * 이 컴포넌트는 사용자가 핀 및 공유 버튼을 사용하여 뉴스 항목을 핀하거나 링크를 공유할 수 있도록 합니다.
 *
 * @returns {JSX.Element} 취약성 뉴스의 제목, 설명 및 핀 및 공유 버튼이 포함된 세부 정보 컴포넌트를 반환합니다.
 */

function DetailContent({ detailData, dataId }: DetailContentProps) {
  // 여기서 DetailData를 props로 받음
  // const extractContentInBrackets = (text: string): string | null => {
  //   const match = text.match(/\[(.*?)\]/);
  //   // match 결과가 있으면 첫 번째 캡처 그룹을 반환하고, 없으면 null을 반환합니다.
  //   return match ? match[1] : null;
  // };
  // console.log("extractContentInBrackets : ");
  // console.log(extractContentInBrackets);

  return (
    <>
      <div key={dataId}>
        <div className="flex flex-col gap-3 border-b border-neutral-30 pb-[30px]">
          <div className="flex flex-col gap-3">
            <Chips view={detailData.view} />
            <h1 className="text-[21px]">{detailData.title}</h1>
          </div>
          <div className="flex justify-between">
            <div className="flex text-sm text-neutral-40">
              {/* <span>
                {extractContentInBrackets(detailData.title)}
              </span> */}
              <span>{detailData.subtitle}</span>
            </div>
            <div className="flex gap-5">
              <PinButton />
              <ShareButton />
            </div>
          </div>
        </div>
        <div className="border-b border-neutral-30 pb-[30px] pt-[30px]">
          <div className="w-full px-2">{detailData.content}</div>
        </div>
      </div>
    </>
  );
}

export default DetailContent;
