"use client";

import Image from "next/image";
import { useState } from "react";
import shareBox from "/public/images/share-box.png";
import shareBoxActive from "/public/images/share-box-active.png";

function ShareButton() {
  const [isShare, setIsShare] = useState(false);

  //링크를 공유하거나 클립보드에 복사하는 함수입니다.
  const handleShareLink = () => {
    const link = location.href;

    if (navigator.share) {
      setIsShare(!isShare);
      navigator.share({ url: link });
    } else {
      setIsShare(!isShare);
      navigator.clipboard.writeText(link);
      alert("링크가 복사되었습니다.");
    }
  };

  return (
    <button onClick={handleShareLink}>
      {isShare ? (
        <Image src={shareBoxActive} width={18} height={18} alt="share-active" />
      ) : (
        <Image src={shareBox} width={18} height={18} alt="share" />
      )}
    </button>
  );
}
export default ShareButton;
