"use client";

import Buttons from "./Buttons";
import { TArticleListItem } from "./dummydata";
import LockModal from "./LockModal";
import ArticleListItem from "./ArticleListItem";

/**
 * @description 기사 목록과 버튼, 잠금 모달을 포함하는 UI 컴포넌트입니다. 로그인 상태에 따라 잠금 모달을 표시하며, 기사 목록을 동적으로 렌더링합니다.
 *
 * @returns {JSX.Element} 기사 목록, 버튼, 그리고 (비로그인 상태일 때) 잠금 모달을 포함한 컴포넌트를 반환
 *
 * @remarks
 * - `isLoggedIn` 상태에 따라 잠금 모달을 조건부로 렌더링합니다.
 */

type TArticleListProps = {
  listData: TArticleListItem[];
};

function ArticleList({ listData }: TArticleListProps): JSX.Element {
  const isLoggedIn = true;

  return (
    <div className="relative z-0 max-h-fit w-[70%]">
      {!isLoggedIn && <LockModal />}
      <div className="z-0 flex flex-col gap-4 pl-[2px]">
        <h1 className="text-lg font-semibold">취약점 DB</h1>
        <Buttons />
        <div className="flex flex-col gap-4 pr-1">
          {listData.map((item) => (
            <ArticleListItem {...item} key={item.id} />
          ))}
        </div>
      </div>
    </div>
  );
}

export default ArticleList;
